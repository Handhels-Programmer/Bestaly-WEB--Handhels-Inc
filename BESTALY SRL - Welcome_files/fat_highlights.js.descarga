SK.CallToActionButton.Animations.Highlight=new Class({Extends:SK.CallToActionButton.Animations.Utils,timers:{},init_delay:3e3,repeat_period:3e4,initialize:function(t){this.setElements({button:t}),this.createElements(),this.setStyles(),this.initEvents(),this.initFx(),this.initWithDelay()},initWithDelay:function(){this.timers.init=this.init.delay(this.init_delay,this)},cancelDelayedInit:function(){clearTimeout(this.timers.init)},init:function(){this.startRepeatTimer(),this.animate()},startRepeatTimer:function(){this.timers.animate=this.animate.periodical(this.repeat_period,this)},stopRepeatTimer:function(){clearInterval(this.timers.animate)},animate:function(){},cancel:function(){},onRollOver:function(){this.cancelDelayedInit(),this.stopRepeatTimer(),this.cancel()},onRollOut:function(){this.startRepeatTimer()}}),SK.CallToActionButton.Animations.Highlight.Shake=new Class({Extends:SK.CallToActionButton.Animations.Highlight,distance:5,duration:1e3,interval:50,directions:{x:["margin-left","margin-right"],y:["margin-top","margin-bottom"]},setElements:function(t){this.parent(t),this.styles={"margin-top":parseInt(this.getElement().getStyle("margin-top"),10),"margin-right":parseInt(this.getElement().getStyle("margin-right"),10),"margin-bottom":parseInt(this.getElement().getStyle("margin-bottom"),10),"margin-left":parseInt(this.getElement().getStyle("margin-left"),10)}},animate:function(){for(var t=this.duration/this.interval,i=0;i<t;i+=1){var e=i*this.interval;this.addTimer(this.shake.delay(e,this,[t,i]))}},shake:function(t,i){var e=this.distance-i/t*this.distance,n=Math.round(Math.random()*e),s=Math.round(Math.random()*e),o=[].append(this.directions.x),a=[].append(this.directions.y),h=Math.round(Math.random())?o.pop():o.shift(),l=Math.round(Math.random())?a.pop():a.shift(),r={};r[h]=-n+this.styles[h],r[o[0]]=n+this.styles[o[0]],r[l]=-s+this.styles[l],r[a[0]]=s+this.styles[a[0]],this.getElement().setStyles(r)},cancel:function(){this.stopTimers(),this.getElement().setStyles(this.styles)},addTimer:function(t){this.timers.shake||(this.timers.shake=[]),this.timers.shake.push(t)},getTimers:function(){return this.timers.shake||[]},resetTimers:function(){delete this.timers.shake,this.timers.shake=[]},stopTimers:function(){this.getTimers().each(function(t){clearTimeout(t)}),this.resetTimers()}}),SK.CallToActionButton.Animations.Registry.register("highlights","shake",SK.CallToActionButton.Animations.Highlight.Shake),SK.CallToActionButton.Animations.Highlight.Glow=new Class({Extends:SK.CallToActionButton.Animations.Highlight,initFx:function(){this.fx.fade=new Fx.Tween(this.getElement("body.over"),{property:"opacity",duration:1500})},animate:function(){this.getElement("body.over").setStyles({opacity:0,height:"auto",visibility:"visible"}),this.fx.fade.addEvent("complete",function(){this.fx.fade.removeEvents(),this.fx.fade.element.setStyle("visibility","visible"),this.fx.fade.addEvent("complete",function(){this.cancel()}.bind(this)),this.fx.fade.start(0)}.bind(this)),this.fx.fade.start(1)},cancel:function(){this.getElement("body.over").removeAttribute("style"),this.fx.fade.cancel().removeEvents()}}),SK.CallToActionButton.Animations.Registry.register("highlights","glow",SK.CallToActionButton.Animations.Highlight.Glow),SK.CallToActionButton.Animations.Highlight.Wave=new Class({Extends:SK.CallToActionButton.Animations.Highlight,createElements:function(){this.elements["body.mask"]=new Element("span",{class:"cta-body cta-mask"}).inject(this.getElement("body.wrap")),this.elements["body.wrap.mask"]=new Element("span",{class:"cta-body cta-wrap cta-mask"}).inject(this.getElement("body.mask"))},setStyles:function(){var t=.1*this.getElementWidth(this.getElement());this.getElement("body.mask").setStyles({overflow:"hidden"}),this.getElement("body.wrap.mask").setStyles({position:"absolute",left:-t,top:0,overflow:"hidden",width:t,height:"100%"})},initFx:function(){this.fx.mask=new Fx.Tween(this.getElement("body.wrap.mask"),{property:"left",duration:2e3,transition:Fx.Transitions.Expo.easeInOut})},animate:function(){new Array(2);this.fx.mask.removeEvents(),this.fx.mask.addEvent("complete",this.setStyles.bind(this));var t=this.getElement().getWidth();this.fx.mask.start(t)},cancel:function(){this.fx.mask.cancel(),this.setStyles()}}),SK.CallToActionButton.Animations.Registry.register("highlights","wave",SK.CallToActionButton.Animations.Highlight.Wave),SK.CallToActionButton.Animations.Highlight.Bounce=new Class({Extends:SK.CallToActionButton.Animations.Highlight,distance:"30%",duration:2e3,initFx:function(){var t=this.getElement();t.store("highlight:margin",[t.getStyle("margin-top"),t.getStyle("margin-right"),t.getStyle("margin-bottom"),t.getStyle("margin-left")].join(" ")),this.distance=isNaN(this.distance)?t.getHeight()*(parseFloat(this.distance)/100):this.distance,this.fx.move=new Fx.Morph(t,{duration:100})},animate:function(){this.cancel();var t=this.getElement().retrieve("highlight:margin");this.fx.move.addEvent("complete",function(t){this.fx.move.removeEvents().addEvent("complete",function(t){this.fx.move.removeEvents().addEvent("complete",function(t){this.fx.move.removeEvents().addEvent("complete",function(t){this.fx.move.removeEvents().addEvent("complete",function(t){this.fx.move.setOptions({duration:Math.floor(this.duration/10),transition:Fx.Transitions.Circ.easeIn}),this.fx.move.start({"margin-bottom":t.split(" ")[2],"margin-top":t.split(" ")[0]})}.pass(arguments,this)),this.fx.move.setOptions({duration:Math.floor(this.duration/10),transition:Fx.Transitions.Circ.easeOut}),this.fx.move.start({"margin-bottom":parseInt(t.split(" ")[2],10)+this.distance/3,"margin-top":parseInt(t.split(" ")[0],10)-this.distance/3})}.pass(arguments,this)),this.fx.move.setOptions({duration:Math.floor(.3*this.duration/2),transition:Fx.Transitions.Circ.easeIn}),this.fx.move.start({"margin-bottom":t.split(" ")[2],"margin-top":t.split(" ")[0]})}.pass(arguments,this)),this.fx.move.setOptions({duration:Math.floor(.3*this.duration/2),transition:Fx.Transitions.Circ.easeOut}),this.fx.move.start({"margin-bottom":parseInt(t.split(" ")[2],10)+this.distance/2,"margin-top":parseInt(t.split(" ")[0],10)-this.distance/2})}.pass(arguments,this)),this.fx.move.setOptions({duration:Math.floor(this.duration/4),transition:Fx.Transitions.Circ.easeIn}),this.fx.move.start({"margin-bottom":t.split(" ")[2],"margin-top":t.split(" ")[0]})}.pass([t],this)),this.fx.move.setOptions({duration:Math.floor(this.duration/4),transition:Fx.Transitions.Circ.easeOut}),this.fx.move.start({"margin-bottom":parseInt(t.split(" ")[2],10)+this.distance,"margin-top":parseInt(t.split(" ")[0],10)-this.distance})},cancel:function(){this.fx.move.removeEvents().cancel();var t=this.getElement();t.setStyle("margin",t.retrieve("highlight:margin"))}}),SK.CallToActionButton.Animations.Registry.register("highlights","bounce",SK.CallToActionButton.Animations.Highlight.Bounce),SK.CallToActionButton.Animations.Highlight.IconPulsate=new Class({Extends:SK.CallToActionButton.Animations.Highlight,createElements:function(){this.getElement("icon.normal")&&(this.elements["icon.normal.spacer"]=new Element("span",{class:"cta-inline-block"}).inject(this.getElement("icon.normal"),"top"))},setStyles:function(){if(this.getElement("icon.normal")){this.getElement("icon.normal.spacer").setStyles({display:"",width:0,height:"100%"});var t=this.getElement("icon.normal"),i=t.getElement("img").getSize();t.setStyles({width:1.5*i.x,height:1.5*i.y,textAlign:"center",margin:[(1.5*i.y-i.y)/-2,(1.5*i.x-i.x)/-2].join("px ")+"px"}),this.getElement("icon.normal img").setStyles({verticalAlign:"middle"})}},removeStyles:function(){if(this.getElement("icon.normal")){this.getElement("icon.normal.spacer").setStyles({display:"none"});var t=this.getElement("icon.normal");t.getElement("img").getSize();t.setStyles({width:"",height:"",textAlign:"",margin:""}),this.getElement("icon.normal img").setStyles({verticalAlign:""})}},initFx:function(){if(this.getElement("icon.normal")){var t=this.getElement("icon.normal img");this.fx.icon=new Fx.Morph(t),t.store("icon:dimensions",t.getSize())}},animate:function(){if(this.getElement("icon.normal")){var t=this.getElement("icon.normal img").retrieve("icon:dimensions");this.cancel(),this.setStyles(),this.fx.icon.cancel().removeEvents().addEvent("complete",function(t){this.fx.icon.removeEvents().addEvent("complete",function(t){this.fx.icon.setOptions({duration:175,transition:Fx.Transitions.Circ.easeOut}),this.fx.icon.start({width:t.x,height:t.y})}.pass(arguments,this)),this.fx.icon.setOptions({duration:105}),this.fx.icon.start({width:1.5*t.x,height:1.5*t.y})}.pass([t],this)),this.fx.icon.setOptions({duration:70,transition:Fx.Transitions.Sine.easeInOut}),this.fx.icon.start({width:.8*t.x,height:.8*t.y})}},cancel:function(){if(this.getElement("icon.normal")){var t=this.getElement("icon.normal img").retrieve("icon:dimensions");this.fx.icon.cancel().removeEvents(),this.getElement("icon.normal img").setStyles({width:t.x,height:t.y}),this.removeStyles()}}}),SK.CallToActionButton.Animations.Registry.register("highlights","iconpulsate",SK.CallToActionButton.Animations.Highlight.IconPulsate),SK.CallToActionButton.Animations.Highlight.MoveDownUp=new Class({Extends:SK.CallToActionButton.Animations.Highlight,distance:"8%",initFx:function(){var t=this.getElement();t.store("highlight:margin",[t.getStyle("margin-top"),t.getStyle("margin-right"),t.getStyle("margin-bottom"),t.getStyle("margin-left")].join(" ")),this.distance=isNaN(this.distance)?t.getHeight()*(parseFloat(this.distance)/100):this.distance,this.fx.move=new Fx.Morph(t,{duration:150})},animate:function(){this.cancel();var t=this.getElement().retrieve("highlight:margin");this.fx.move.addEvent("complete",function(t){this.fx.move.removeEvents().addEvent("complete",this.cancel.bind(this)),this.fx.move.start({"margin-top":t.split(" ")[0],"margin-bottom":t.split(" ")[2]})}.pass([t],this)),this.fx.move.start({"margin-top":parseInt(t.split(" ")[0],10)+this.distance,"margin-bottom":parseInt(t.split(" ")[2],10)-this.distance})},cancel:function(){this.fx.move.removeEvents().cancel();var t=this.getElement();t.setStyle("margin",t.retrieve("highlight:margin"))}}),SK.CallToActionButton.Animations.Registry.register("highlights","movedownup",SK.CallToActionButton.Animations.Highlight.MoveDownUp);